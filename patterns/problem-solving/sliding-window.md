<div align="center">

# Sliding Window

[Вопросы](https://github.com/dollaween/javascript-questions)
|
[Тесты](https://github.com/dollaween/javascript-tests)
|
[Задачи](https://github.com/dollaween/javascript-tasks)
|
[Заметки](https://github.com/dollaween/javascript-notes)

</div>

---

Подходит для:
* Поиска диапазона и последовательности в массиве/строке

#### Реализация 1
1. Найдите изначальный подмассив.
2. В каждой новой итерации добавляйте элемент в конец и удаляйте элемент в начале.
3. Произведите перерасчет по формуле `window - значение_первого_элемента_window + следующее_значение`
4. Сравните новый расчет с предыдущим. Если новый расчет подходит лучше — замените им предыдущий.

```js
/**
 * Напишите функцию, которая принимает массив чисел nums и число n.
 Функция должна вычислить максимальную сумму n-подряд идущих элементов в массиве.
 */
function maxSubarraySum(nums, n) {
  if (nums.length < n) {
    return null
  }

  // Сюда будет записан итоговый максимальный результат
  let max = 0

  // Переменная-помощник для хранения временных расчетов
  let temp = 0

  // Задаем изначальное окно (window), которое будем двигать
  for (let i = 0; i < n; i++) {
    max += nums[i]
  }

  temp = max;
  for (let i = n; i < nums.length; i++) {
    // Производим перерасчет,
    // где temp — это window,
    // nums[i - n] — первый элемент window,
    // nums[i] — следующий элемент
    temp = temp - nums[i - n] + nums[i]

    // Сравниваем новый расчет с предыдущим
    max = Math.max(max, temp)
  }

  return max
}

maxSubarraySum([1, 2, 5, 2, 8, 1, 5], 2)
// 10, так как максимальная сумма из двух подряд идущих элементов = 2 + 8

maxSubarraySum([1, 2, 5, 2, 8, 1, 5], 4)
// 17, так как максимальная сумма из четырех подряд идущих элементов = 2 + 5 + 2 + 8
```

Иллюстрация:
```js
 1  2  5  2  8  1  5

[1  2  5  2]
   [2  5  2  8]
      [5  2  8  1]
         [2  8  1  5]
```

Мы могли бы просто сделать цикл, в каждой итерации брать `n` элементов и сравнивать. Но что если `n` элементов — это не 2 или 3, а 1 000 000? Нам бы пришлось в каждой итерации пересчитывать 1 000 000 элементов.

В Sliding Window мы не пересчитываем значения элементов хранящихся в нем, а только удаляем значение первого элемента и добавляем значение нового. В каждой итерации имеем константное количество арифметических операций — 2.

#### Еще про вариации Sliding Window
В некоторых вариациях, окно может сужаться и расширяться в зависимости от условий:
```js
 1  2  5  2  8  1  5

[1  2  5]
   [2  5  2]
      [5  2]
         [2]
         [2  8]
         [2  8  1]
            [8  1  5]
```
